{"ast":null,"code":"var _jsxFileName = \"/Users/dylan/Desktop/eve-prospect/frontend/src/components/Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Settings.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = ({\n  onBack\n}) => {\n  _s();\n  const [userData, setUserData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    avatar: ''\n  });\n  const [isEditingEmail, setIsEditingEmail] = useState(false);\n  const [message, setMessage] = useState({\n    text: '',\n    type: ''\n  }); // Ajout du type pour le style\n  const [loading, setLoading] = useState(true);\n  const [originalEmail, setOriginalEmail] = useState('');\n\n  // 🔄 Fonction pour obtenir les données utilisateur\n  const fetchUserData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('❌ Aucun token trouvé');\n        window.location.href = '/login';\n        return;\n      }\n\n      // Utilisation de la route user au lieu de verify-token\n      const response = await axios.get('http://localhost:5001/api/auth/user', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log('Réponse du serveur:', response.data); // Debug\n\n      if (response.data) {\n        const userData = {\n          firstName: response.data.firstName || '',\n          lastName: response.data.lastName || '',\n          email: response.data.email || '',\n          // Gestion spéciale pour l'avatar avec vérification de l'URL\n          avatar: response.data.avatar\n        };\n        setUserData(userData);\n        setOriginalEmail(response.data.email || '');\n        console.log('✅ Données utilisateur chargées');\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('❌ Erreur lors de la récupération des données:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        console.log('❌ Token invalide');\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUserData();\n  }, []);\n\n  // 📧 Gestion de la mise à jour de l'email\n  const handleEmailUpdate = async () => {\n    try {\n      const response = await axios.put('http://localhost:5001/api/auth/update-email', {\n        email: userData.email\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.data.success) {\n        showMessage('✅ Email mis à jour avec succès', 'success');\n        setIsEditingEmail(false);\n        setOriginalEmail(userData.email);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      showMessage(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || '❌ Erreur lors de la mise à jour de l\\'email', 'error');\n      setUserData(prev => ({\n        ...prev,\n        email: originalEmail\n      }));\n    }\n  };\n\n  // 🖼️ Gestion du changement de photo\n  const handlePhotoChange = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Vérification de la taille et du type du fichier\n    if (file.size > 5 * 1024 * 1024) {\n      showMessage('❌ L\\'image ne doit pas dépasser 5MB', 'error');\n      return;\n    }\n    if (!file.type.match('image.*')) {\n      showMessage('❌ Seules les images sont autorisées', 'error');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('avatar', file);\n    try {\n      const response = await axios.put('http://localhost:5001/api/auth/update-avatar', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.data.success) {\n        setUserData(prev => ({\n          ...prev,\n          avatar: response.data.avatar\n        }));\n        showMessage('✅ Photo mise à jour avec succès', 'success');\n      }\n    } catch (error) {\n      showMessage('❌ Erreur lors de la mise à jour de la photo', 'error');\n    }\n  };\n\n  // 🗑️ Gestion de la suppression de photo\n  const handleDeletePhoto = async () => {\n    try {\n      const response = await axios.put('http://localhost:5001/api/auth/delete-avatar', {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.data.success) {\n        setUserData(prev => ({\n          ...prev,\n          avatar: response.data.generatedAvatar\n        }));\n        showMessage('✅ Photo supprimée avec succès', 'success');\n      }\n    } catch (error) {\n      showMessage('❌ Erreur lors de la suppression de la photo', 'error');\n    }\n  };\n\n  // ✨ Fonction utilitaire pour afficher les messages\n  const showMessage = (text, type) => {\n    setMessage({\n      text,\n      type\n    });\n    setTimeout(() => setMessage({\n      text: '',\n      type: ''\n    }), 3000);\n  };\n\n  // ↩️ Annulation de la modification de l'email\n  const cancelEmailEdit = () => {\n    setUserData(prev => ({\n      ...prev,\n      email: originalEmail\n    }));\n    setIsEditingEmail(false);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\uD83D\\uDD04 Chargement...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"settings-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      className: \"back-button\",\n      children: \"\\u2190 Retour\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u2699\\uFE0F Param\\xE8tres du compte\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"settings-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"photo-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Photo de profil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: userData.avatar,\n            alt: \"Avatar\",\n            className: \"profile-avatar\",\n            onError: e => {\n              e.target.onerror = null;\n              e.target.src = `https://ui-avatars.com/api/?name=${userData.firstName}+${userData.lastName}&background=random`;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"photo-button primary\",\n              children: [\"Changer de photo\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handlePhotoChange,\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"photo-button secondary\",\n              onClick: handleDeletePhoto,\n              children: \"Supprimer la photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"info-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Informations personnelles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Pr\\xE9nom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-value\",\n            children: userData.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-value\",\n            children: userData.lastName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this), isEditingEmail ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email-edit\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: userData.email,\n              onChange: e => setUserData(prev => ({\n                ...prev,\n                email: e.target.value\n              })),\n              className: \"email-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"email-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleEmailUpdate,\n                className: \"save-btn\",\n                children: \"\\u2705 Sauvegarder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: cancelEmailEdit,\n                className: \"cancel-btn\",\n                children: \"\\u274C Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-value-with-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-value\",\n              children: userData.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsEditingEmail(true),\n              className: \"modify-button\",\n              children: \"Modifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-banner ${message.type}`,\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 9\n  }, this);\n};\n_s(Settings, \"xXW2lE2lZaL7vKI0jMky4ayCgPU=\");\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Settings","onBack","_s","userData","setUserData","firstName","lastName","email","avatar","isEditingEmail","setIsEditingEmail","message","setMessage","text","type","loading","setLoading","originalEmail","setOriginalEmail","fetchUserData","token","localStorage","getItem","console","log","window","location","href","response","get","headers","Authorization","data","error","_error$response","status","removeItem","handleEmailUpdate","put","success","showMessage","_error$response2","_error$response2$data","prev","handlePhotoChange","e","file","target","files","size","match","formData","FormData","append","handleDeletePhoto","generatedAvatar","setTimeout","cancelEmailEdit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","onError","onerror","accept","onChange","style","display","value","_c","$RefreshReg$"],"sources":["/Users/dylan/Desktop/eve-prospect/frontend/src/components/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Settings.css';\n\nconst Settings = ({ onBack }) => {\n    const [userData, setUserData] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        avatar: ''\n    });\n    const [isEditingEmail, setIsEditingEmail] = useState(false);\n    const [message, setMessage] = useState({ text: '', type: '' }); // Ajout du type pour le style\n    const [loading, setLoading] = useState(true);\n    const [originalEmail, setOriginalEmail] = useState('');\n\n    // 🔄 Fonction pour obtenir les données utilisateur\n    const fetchUserData = async () => {\n        try {\n            const token = localStorage.getItem('token');\n            if (!token) {\n                console.log('❌ Aucun token trouvé');\n                window.location.href = '/login';\n                return;\n            }\n\n            // Utilisation de la route user au lieu de verify-token\n            const response = await axios.get('http://localhost:5001/api/auth/user', {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n\n            console.log('Réponse du serveur:', response.data); // Debug\n\n            if (response.data) {\n                const userData = {\n                    firstName: response.data.firstName || '',\n                    lastName: response.data.lastName || '',\n                    email: response.data.email || '',\n                    // Gestion spéciale pour l'avatar avec vérification de l'URL\n                    avatar: response.data.avatar\n                };\n                setUserData(userData);\n                setOriginalEmail(response.data.email || '');\n                console.log('✅ Données utilisateur chargées');\n            }\n        } catch (error) {\n            console.error('❌ Erreur lors de la récupération des données:', error);\n            if (error.response?.status === 401) {\n                console.log('❌ Token invalide');\n                localStorage.removeItem('token');\n                window.location.href = '/login';\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchUserData();\n    }, []);\n\n    // 📧 Gestion de la mise à jour de l'email\n    const handleEmailUpdate = async () => {\n        try {\n            const response = await axios.put(\n                'http://localhost:5001/api/auth/update-email',\n                { email: userData.email },\n                {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${localStorage.getItem('token')}`\n                    }\n                }\n            );\n\n            if (response.data.success) {\n                showMessage('✅ Email mis à jour avec succès', 'success');\n                setIsEditingEmail(false);\n                setOriginalEmail(userData.email);\n            }\n        } catch (error) {\n            showMessage(error.response?.data?.message || '❌ Erreur lors de la mise à jour de l\\'email', 'error');\n            setUserData(prev => ({ ...prev, email: originalEmail }));\n        }\n    };\n\n    // 🖼️ Gestion du changement de photo\n    const handlePhotoChange = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        // Vérification de la taille et du type du fichier\n        if (file.size > 5 * 1024 * 1024) {\n            showMessage('❌ L\\'image ne doit pas dépasser 5MB', 'error');\n            return;\n        }\n\n        if (!file.type.match('image.*')) {\n            showMessage('❌ Seules les images sont autorisées', 'error');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('avatar', file);\n\n        try {\n            const response = await axios.put(\n                'http://localhost:5001/api/auth/update-avatar',\n                formData,\n                {\n                    headers: {\n                        'Content-Type': 'multipart/form-data',\n                        'Authorization': `Bearer ${localStorage.getItem('token')}`\n                    }\n                }\n            );\n\n            if (response.data.success) {\n                setUserData(prev => ({\n                    ...prev,\n                    avatar: response.data.avatar\n                }));\n                showMessage('✅ Photo mise à jour avec succès', 'success');\n            }\n        } catch (error) {\n            showMessage('❌ Erreur lors de la mise à jour de la photo', 'error');\n        }\n    };\n\n    // 🗑️ Gestion de la suppression de photo\n    const handleDeletePhoto = async () => {\n        try {\n            const response = await axios.put(\n                'http://localhost:5001/api/auth/delete-avatar',\n                {},\n                {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem('token')}`\n                    }\n                }\n            );\n\n            if (response.data.success) {\n                setUserData(prev => ({\n                    ...prev,\n                    avatar: response.data.generatedAvatar\n                }));\n                showMessage('✅ Photo supprimée avec succès', 'success');\n            }\n        } catch (error) {\n            showMessage('❌ Erreur lors de la suppression de la photo', 'error');\n        }\n    };\n\n    // ✨ Fonction utilitaire pour afficher les messages\n    const showMessage = (text, type) => {\n        setMessage({ text, type });\n        setTimeout(() => setMessage({ text: '', type: '' }), 3000);\n    };\n\n    // ↩️ Annulation de la modification de l'email\n    const cancelEmailEdit = () => {\n        setUserData(prev => ({\n            ...prev,\n            email: originalEmail\n        }));\n        setIsEditingEmail(false);\n    };\n\n    if (loading) {\n        return <div className=\"loading\">🔄 Chargement...</div>;\n    }\n\n    return (\n        <div className=\"settings-main\">\n            <button onClick={onBack} className=\"back-button\">\n                ← Retour\n            </button>\n\n            <h2>⚙️ Paramètres du compte</h2>\n\n            <div className=\"settings-content\">\n                <section className=\"photo-section\">\n                    <h3>Photo de profil</h3>\n                    <div className=\"avatar-container\">\n                        <img\n                            src={userData.avatar}\n                            alt=\"Avatar\"\n                            className=\"profile-avatar\"\n                            onError={(e) => {\n                                e.target.onerror = null;\n                                e.target.src = `https://ui-avatars.com/api/?name=${userData.firstName}+${userData.lastName}&background=random`;\n                            }}\n                        />\n                        <div className=\"avatar-buttons\">\n                            <label className=\"photo-button primary\">\n                                Changer de photo\n                                <input\n                                    type=\"file\"\n                                    accept=\"image/*\"\n                                    onChange={handlePhotoChange}\n                                    style={{ display: 'none' }}\n                                />\n                            </label>\n                            <button\n                                className=\"photo-button secondary\"\n                                onClick={handleDeletePhoto}\n                            >\n                                Supprimer la photo\n                            </button>\n                        </div>\n                    </div>\n                </section>\n\n                <section className=\"info-section\">\n                    <h3>Informations personnelles</h3>\n                    <div className=\"info-field\">\n                        <label>Prénom</label>\n                        <div className=\"info-value\">{userData.firstName}</div>\n                    </div>\n                    <div className=\"info-field\">\n                        <label>Nom</label>\n                        <div className=\"info-value\">{userData.lastName}</div>\n                    </div>\n                    <div className=\"info-field\">\n                        <label>Email</label>\n                        {isEditingEmail ? (\n                            <div className=\"email-edit\">\n                                <input\n                                    type=\"email\"\n                                    value={userData.email}\n                                    onChange={(e) => setUserData(prev => ({\n                                        ...prev,\n                                        email: e.target.value\n                                    }))}\n                                    className=\"email-input\"\n                                />\n                                <div className=\"email-buttons\">\n                                    <button\n                                        onClick={handleEmailUpdate}\n                                        className=\"save-btn\"\n                                    >\n                                        ✅ Sauvegarder\n                                    </button>\n                                    <button\n                                        onClick={cancelEmailEdit}\n                                        className=\"cancel-btn\"\n                                    >\n                                        ❌ Annuler\n                                    </button>\n                                </div>\n                            </div>\n                        ) : (\n                            <div className=\"info-value-with-button\">\n                                <div className=\"info-value\">{userData.email}</div>\n                                <button\n                                    onClick={() => setIsEditingEmail(true)}\n                                    className=\"modify-button\"\n                                >\n                                     Modifier\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                </section>\n\n                {message.text && (\n                    <div className={`message-banner ${message.type}`}>\n                        {message.text}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Settings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}